{% extends '@App/base.html.twig' %}

{% block ol %}
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="{{ path('homepage') }}">Home</a>
        </li>
        <li class="breadcrumb-item active">
            <a href="{{ path('exams_list') }}">Exams</a>
        </li>
        <li class="breadcrumb-item active">List</li>
        <!-- Breadcrumb Menu-->
        <li class="breadcrumb-menu d-md-down-none">
            {#<div class="btn-group" role="group" aria-label="Button group">
                <a class="btn" href="#">
                    <i class="icon-speech"></i>
                </a>
                <a class="btn" href="./">
                    <i class="icon-graph"></i>  Dashboard</a>
                <a class="btn" href="#">
                    <i class="icon-settings"></i>  Settings</a>
            </div>#}
        </li>
    </ol>        
{% endblock %}

{% block body %}
    <div class="card">
        <div class="card-header">
            <a class="btn btn-primary" href="{{ path('exams_create') }}" role="button"><i class="fas fa-plus-circle"></i> </a>&nbsp;&nbsp;&nbsp;&nbsp;          
            <strong>List Exams</strong>
            {#            <small>List</small>#}
        </div>        
        <div class="card-body">            
            <div></div>

            {#    {{countries}}#}
            <table id="tableExams" class="display nowrap dataTable dtr-inline collapsed"> 
                <thead> 
                    <tr> 
                        <th>Exam</th>    
                        <th>Category</th>    
                        <th>Status</th>    
{#                        <th>Accion</th>                                                                                                    #}
                    </tr> 
                </thead> 
                <tbody> 
                    {% for exams in exams %}
                        {% if exams.active == true %}
                            {% set status = "ACTIVE" %} 
                            {% set class = "badge badge-success" %}   
                        {% else %}    
                            {% set status = "INACTIVE" %}
                            {% set class = "badge badge-danger" %} 
                        {% endif %}
                        {% set NameCategoria = '' %}   
                        {% for ArrayCategoryExams in  ArrayCategoryExams %}
                            {% if exams.category == loop.index-1 %}
                                {% set NameCategoria =  ArrayCategoryExams%}  
                            {% endif %}
                        {% endfor %}
                        <tr> 
                            <td><a title="View Details" class="nav-link" href="{{ path('exams_details', { 'id': exams.id }) }}">{{exams.name}}</a></td>                                                               
                            <td>{{NameCategoria}}</td>    
                            <td><span class = "{{class}}">{{status}}</span></td>        
                            {#<td style="width: 110px">
                                <a title="VIEW" href="{{ path('exams_details', { 'id': exams.id }) }}" class="btn btn-info"><i class="fas fa-eye"></i></a>
                                <a title="EDIT" href="{{ path('exams_edit', { 'id': exams.id }) }}" class="btn btn-default"  style="background-color: #a1c9c2; color: black "><i class="fas fa-edit"></i></a>
                                <a title="DELETE" href="{{ path('exams_delete', { 'id': exams.id }) }}" class="btn btn-danger" onclick="return confirm('¿Be sure to eliminate the exam?');"><i class="fas fa-minus-circle"></i></a>
                            </td> #}

                        </tr>  
                    {% endfor %}
                </tbody> 
            </table>    
        </div>
    </div>
    <script type="text/javascript">

        $(document).ready(function () {
            $('#tableExams')
                    .addClass('nowrap')
                    .dataTable();
        });

    </script>  

{% endblock %}
